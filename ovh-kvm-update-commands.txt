# üöÄ KOMPLETNE KOMENDY AKTUALIZACJI SERWERA OVH KVM
# Wklej te komendy po kolei w KVM Console

# 1Ô∏è‚É£ Przejd≈∫ do katalogu aplikacji
cd /var/www/losuje.pl/lotek

# 2Ô∏è‚É£ Sprawd≈∫ aktualny status
pwd
ls -la

# 3Ô∏è‚É£ Pobierz najnowsze zmiany z Git
git fetch origin main
git reset --hard origin/main

# 4Ô∏è‚É£ Sprawd≈∫ czy pliki siƒô zaktualizowa≈Çy
git log --oneline -5
cat frontend/src/utils/firebaseAuth.js | grep "losuje.pl"

# 5Ô∏è‚É£ Sprawd≈∫ Firebase Admin
cat backend/serviceAccountKey.json | head -3
ls -la backend/serviceAccountKey.json

# 6Ô∏è‚É£ Zaktualizuj frontend
cd frontend
npm ci
npm run build

# 7Ô∏è‚É£ Sprawd≈∫ czy build siƒô uda≈Ç
ls -la build/
cat build/static/js/*.js | grep "losuje.pl" | head -1

# 8Ô∏è‚É£ Zaktualizuj backend
cd ../backend
npm ci

# 9Ô∏è‚É£ Sprawd≈∫ konfiguracjƒô PayPal
cat config.js | grep "PAYPAL_ENVIRONMENT"
cat config.js | grep "CLIENT_ID"

# üîü Zrestartuj aplikacjƒô
pm2 restart lotek-backend
pm2 status

# 1Ô∏è‚É£1Ô∏è‚É£ Sprawd≈∫ logi
pm2 logs lotek-backend --lines 20

# 1Ô∏è‚É£2Ô∏è‚É£ Test Firebase i ≈ºeton√≥w
curl -X GET http://localhost:3001/api/firebase-test
curl -X POST http://localhost:3001/api/auth/register-login -H "Content-Type: application/json" -d '{"userId":"test_user_123"}'

# 1Ô∏è‚É£3Ô∏è‚É£ Sprawd≈∫ czy aplikacja dzia≈Ça
curl -I https://losuje.pl
curl -I https://losuje.pl/api/health

# ‚úÖ GOTOWE! Wszystkie zmiany zosta≈Çy zaktualizowane:
# - Google Auth z dynamicznymi URL-ami
# - PayPal LIVE klucze
# - Language switcher na ko≈Ñcu menu
# - Usuniƒôte animacje iskier
# - Test Firebase i ≈ºeton√≥w
