# ğŸš€ KOMPLETNE KOMENDY AKTUALIZACJI SERWERA OVH KVM
# Wklej te komendy po kolei w KVM Console

# 1ï¸âƒ£ PrzejdÅº do katalogu aplikacji
cd /var/www/losuje.pl/lotek

# 2ï¸âƒ£ SprawdÅº aktualny status
pwd
ls -la

# 3ï¸âƒ£ Pobierz najnowsze zmiany z Git
git fetch origin main
git reset --hard origin/main

# 4ï¸âƒ£ SprawdÅº czy pliki siÄ™ zaktualizowaÅ‚y
git log --oneline -5
cat frontend/src/utils/firebaseAuth.js | grep "losuje.pl"

# 5ï¸âƒ£ SprawdÅº Firebase Admin
cat backend/serviceAccountKey.json | head -3
ls -la backend/serviceAccountKey.json

# 6ï¸âƒ£ Zaktualizuj frontend
cd frontend
npm ci
npm run build

# 7ï¸âƒ£ SprawdÅº czy build siÄ™ udaÅ‚
ls -la build/
cat build/static/js/*.js | grep "losuje.pl" | head -1

# 8ï¸âƒ£ Zaktualizuj backend
cd ../backend
npm ci

# 9ï¸âƒ£ SprawdÅº konfiguracjÄ™ PayPal
cat config.js | grep "PAYPAL_ENVIRONMENT"
cat config.js | grep "CLIENT_ID"

# ğŸ”Ÿ Zrestartuj aplikacjÄ™
pm2 restart lotek-backend
pm2 status

# 1ï¸âƒ£1ï¸âƒ£ SprawdÅº logi
pm2 logs lotek-backend --lines 20

# 1ï¸âƒ£2ï¸âƒ£ Test Firebase i Å¼etonÃ³w
curl -X GET http://localhost:3001/api/firebase-test
curl -X POST http://localhost:3001/api/auth/register-login -H "Content-Type: application/json" -d '{"userId":"test_user_123"}'

# 1ï¸âƒ£3ï¸âƒ£ SprawdÅº czy aplikacja dziaÅ‚a
curl -I https://losuje.pl
curl -I https://losuje.pl/api/health

# âœ… GOTOWE! Wszystkie zmiany zostaÅ‚y zaktualizowane:
# - Google Auth z dynamicznymi URL-ami
# - PayPal LIVE klucze
# - Language switcher na koÅ„cu menu
# - UsuniÄ™te animacje iskier
# - Test Firebase i Å¼etonÃ³w
# - ğŸ¨ POWIÄ˜KSZONE IKONY TALIZMANÃ“W (4rem)
